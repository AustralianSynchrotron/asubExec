# $File: //ASP/tec/epics/asubExec/trunk/asubExecTestApp/Db/example.db $
# $Revision: #5 $
# $DateTime: 2019/08/11 16:22:23 $
# Last checked in by: $Author: starritt $
#

record (seq, "TEST:ASUB:EXEC:INIT") {
    field (DESC, "Delayed enable")
    field (SCAN, "Passive")
    field (PINI, "YES")
    field (SELM, "All")
    field (DLY1, "0.5")
    field (DOL1, "1")
    field (LNK1, "TEST:ASUB:EXEC.DISV")
}


record (calc, "TEST:ASUB:PRE") {
    field (DESC, "Pre asubExec")
    field (SCAN, "Passive")
    field (INPA, "TEST:ASUB:PRE")
    field (CALC, "(A+1)%20")
    field (LOPR, "0")
    field (HOPR, "20")
    field (FLNK, "TEST:ASUB:EXEC")
}

record (calc, "TEST:ASUB:POST") {
    field (DESC, "Post asubExec")
    field (SCAN, "Passive")
    field (INPA, "TEST:ASUB:POST")
    field (CALC, "(A+1)%20")
    field (LOPR, "0")
    field (HOPR, "20")
}

record (aSub, "TEST:ASUB:EXEC") {
    field (DESC, "Invokes example.py")
    field (SCAN, "Passive")

    field (INAM, "asubExecInit")
    field (SNAM, "asubExecProcess")
    info  (EXEC, "example.py")
    info  (ARG1, "20") 
    info  (ARG2, "two") 
    info  (ARG3, "tree")
    info  (TIMEOUT, "5.0") 

    # Set to default DISA - so that the record disabled at start
    # up to inhibit initial CP processing
    #
    field (DISV, "0")


    field (INPA, "TEST:INPA CP")
    field (FTA,  "DOUBLE")
    field (NOA,  "6")

    field (INPB, "TEST:INPB CP")
    field (FTB,  "FLOAT")
    field (NOB,  "5")

    field (INPC, "TEST:INPC CP")
    field (FTC,  "LONG")
    field (NOC,  "4")

    field (FTVA, "DOUBLE")
    field (NOVA, "4")

    field (FTVB, "LONG")
    field (NOVB, "8")

    field (FTVC, "SHORT")
    field (NOVC, "6")

    field (FLNK, "TEST:ASUB:POST")
}

record (waveform, "TEST:INPA") {
    field (DESC, "double[6]")
    field (SCAN, "Passive")
    field (NELM, "6")
    field (FTVL, "DOUBLE")
}

record (waveform, "TEST:INPB") {
    field (DESC, "float[5]")
    field (SCAN, "Passive")
    field (NELM, "5")
    field (FTVL, "FLOAT")
}

record (waveform, "TEST:INPC") {
    field (DESC, "int[4]")
    field (SCAN, "Passive")
    field (NELM, "4")
    field (FTVL, "LONG")
}

# -----------------------------------------------------------------
#
record (aSub, "TEST:NULL:EXEC") {
    field (DESC, "Invokes null.py")
    field (SCAN, "Passive")

    field (INAM, "asubExecInit")
    field (SNAM, "asubExecProcess")
    info  (EXEC, "null.py")
}

record (aSub, "TEST:NONE:EXEC") {
    field (DESC, "Invokes non_existant")
    field (SCAN, "Passive")

    field (INAM, "asubExecInit")
    field (SNAM, "asubExecProcess")
    info  (EXEC, "non_existant")
}

record (aSub, "TEST:NO_EXEC") {
    field (DESC, "No Exec info")
    field (SCAN, "Passive")

    field (INAM, "asubExecInit")
    field (SNAM, "asubExecProcess")
}

# end
